#单线程
#!/usr/bin/env python
#coding:utf8
import socket
#ip = 'ip or url'
for port in range(1,1024,1):
    sk = socket.socket(socket.AF_INET, socket.SOCK_STREAM)
    sk.settimeout(2)
    print "scannin port: %d" % port
    try:
        sk.connect((ip,port))
        print 'Server %s port %d OK' % (ip,port)
    except Exception:
        print 'Server %s port %d is not connected!' % (ip,port)
sk.close()
