#单线程
#!/usr/bin/env python
# -*- coding:utf-8 -*- 
import socket
ip = 'www.google.com'
for port in range(1,1024,1):#设置扫描的端口数量
    sk = socket.socket(socket.AF_INET, socket.SOCK_STREAM)
    sk.settimeout(0.1)#端口超时时间
    print "scannin port: %d" % port
    try:
        sk.connect((ip,port))
        print 'Server %s port %d OK' % (ip,port)
    except Exception:
        print 'Server %s port %d is not connected!' % (ip,port)
sk.close()
